#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit hooks..."

# Run lint-staged for frontend
echo "ğŸ“ Checking frontend code..."
npx lint-staged

# Basic backend compilation check (using system gradle)
if [ -f "backend/build.gradle" ]; then
    echo "â˜• Checking backend compilation..."
    cd backend && gradle compileJava --quiet || exit 1
    cd ..
else
    echo "âš ï¸ Backend build.gradle not found, skipping backend checks"
fi

echo "âœ… Pre-commit hooks completed successfully!"